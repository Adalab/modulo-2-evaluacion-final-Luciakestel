{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst charactersList = document.querySelector('.js_character_list');\nconst favouriteList = document.querySelector('.js_favourite_list');\nconst btn = document.querySelector('.js_btn');\nconst input = document.querySelector('.js_input');\nconst btncloseFav = document.querySelector('.js_close');\nconst btnFav = document.querySelector('.js_fav_btn');\n\n\nlet characters = [];\nlet favCharacters = [];\n\nfetch('https://breakingbadapi.com/api/characters')\n.then(response => response.json())\n.then(dataResults =>{\n    characters = dataResults;\n    renderCharacters();\n});\n\n\nfunction renderCharacters(){\n    let html = '';\n    for (const character of characters) {\n        html += `<li >\n        <article class=\"js_list_element article\" id='${character.char_id}'>\n          <h3 class=\"article_title\">${character.name}</h3>\n          <img src=\"${character.img}\" alt=\"Foto del personaje\" class=\"article_img\">\n          <p class=\"article_status\">${character.status}</p>\n        </article>\n      </li>`;\n    }\n    charactersList.innerHTML = html;\n    \n    const listElement = document.querySelectorAll('.js_list_element');\n\n    for (const character of listElement) {\n      character.addEventListener(('click'), handleClickCharacter);\n    }\n}\n\nfunction handleClickCharacter(event){\n    event.currentTarget.classList.toggle('selected');\n\n    const selectedCharacter = characters.find((eachCharacterObj) => eachCharacterObj.char_id === parseInt(event.currentTarget.id));\n    \n    const characterFav = favCharacters.findIndex((eachCharacterObj) => eachCharacterObj.char_id === parseInt(event.currentTarget.id));\n    if(characterFav === -1){\n      favCharacters.push(selectedCharacter);\n    } else {\n      favCharacters.splice(characterFav, 1);\n    }\n    \n    renderFavCharacters();\n}\nfunction searchCharacters(event){\nevent.preventDefault();\nconst searchValue = input.value;\nfetch(`https://breakingbadapi.com/api/characters?name=${searchValue}`)\n.then(response => response.json())\n.then(dataResults =>{\n    characters = dataResults;\n    renderCharacters();\n});\nconst searchFavCharacters = favCharacters.find((eachCharacterObj) => eachCharacterObj.name === parseInt(searchValue));\nif (searchFavCharacters === true){\n  characters.classList.add('selected');\n}\n}\nfunction renderFavCharacters(){\n    let html = '';\n    for (const favCharacter of favCharacters) {\n        html += `<li>\n        <article class=\"js_list_element article selected\" id='${favCharacter.char_id}'>\n          <div class=\"article_box\">  \n            <h3 clas=\"article_title\">${favCharacter.name}</h3>\n            <div class=\"article_close js_close\"></div>\n          </div>\n          <img src=\"${favCharacter.img}\" alt=\"Foto del personaje\" class=\"article_img\"> \n          <p class=\"article_status\">${favCharacter.status}</p>\n        </article>\n      </li>`;\n    }\n    favouriteList.innerHTML = html;\n    localStorage.setItem('Favourite list', JSON.stringify(favCharacters));\n    \n\n    // btncloseFav.addEventListener(('click'), closeFav);\n    // closeFav();\n}\n\n// function closeFav(event){\n//   event.preventDefault();\n\n// }\nfunction resetFavs(event){\n  event.preventDefault();\n  console.log('holis');\n  let html = '';\n  favouriteList.innerHTML = html;\n  localStorage.removeItem('Favourite list');\n  // for (let i = 0; i < characters.length; i++) {\n  //   if (characters[i].classList.contains('selected')){\n  //     characters[i].classList.remove('selected')\n  //   }\n  // }\n  \n  \n}\n\nbtn.addEventListener(('click'), searchCharacters);\nbtnFav.addEventListener(('click'), resetFavs);\n\n\n"]}