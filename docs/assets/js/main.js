"use strict";const charactersList=document.querySelector(".js_character_list"),favouriteList=document.querySelector(".js_favourite_list"),btn=document.querySelector(".js_btn"),input=document.querySelector(".js_input"),btncloseFav=document.querySelector(".js_close"),btnFav=document.querySelector(".js_fav_btn");let characters=[],favCharacters=[];function renderCharacters(){let e="";for(const t of characters)e+=`<li >\n        <article class="js_list_element article" id='${t.char_id}'>\n          <h3 class="article_title">${t.name}</h3>\n          <img src="${t.img}" alt="Foto del personaje" class="article_img">\n          <p class="article_status">${t.status}</p>\n        </article>\n      </li>`;charactersList.innerHTML=e;const t=document.querySelectorAll(".js_list_element");for(const e of t)e.addEventListener("click",handleClickCharacter)}function handleClickCharacter(e){e.currentTarget.classList.toggle("selected");const t=characters.find(t=>t.char_id===parseInt(e.currentTarget.id)),a=favCharacters.findIndex(t=>t.char_id===parseInt(e.currentTarget.id));-1===a?favCharacters.push(t):favCharacters.splice(a,1),renderFavCharacters()}function searchCharacters(e){e.preventDefault();const t=input.value;fetch("https://breakingbadapi.com/api/characters?name="+t).then(e=>e.json()).then(e=>{characters=e,renderCharacters()});!0===favCharacters.find(e=>e.name===parseInt(t))&&characters.classList.add("selected")}function renderFavCharacters(){let e="";for(const t of favCharacters)e+=`<li>\n        <article class="js_list_element article selected" id='${t.char_id}'>\n          <div class="article_box">  \n            <h3 clas="article_title">${t.name}</h3>\n            <div class="article_close js_close"></div>\n          </div>\n          <img src="${t.img}" alt="Foto del personaje" class="article_img"> \n          <p class="article_status">${t.status}</p>\n        </article>\n      </li>`;favouriteList.innerHTML=e,localStorage.setItem("Favourite list",JSON.stringify(favCharacters))}function resetFavs(e){e.preventDefault(),console.log("holis");favouriteList.innerHTML="",localStorage.removeItem("Favourite list")}fetch("https://breakingbadapi.com/api/characters").then(e=>e.json()).then(e=>{characters=e,renderCharacters()}),btn.addEventListener("click",searchCharacters),btnFav.addEventListener("click",resetFavs);